{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import { useSelector, useDispatch } from 'react-redux';\n// import axios from 'axios';\n// import {\n//   saveProduct,\n//   listProducts,\n//   deleteProdcut,\n// } from '../actions/productActions';\n// function ProductsScreen(props) {\n//   const [modalVisible, setModalVisible] = useState(false);\n//   const [id, setId] = useState('');\n//   const [name, setName] = useState('');\n//   const [price, setPrice] = useState('');\n//   const [image, setImage] = useState('');\n//   const [brand, setBrand] = useState('');\n//   const [category, setCategory] = useState('');\n//   const [countInStock, setCountInStock] = useState('');\n//   const [description, setDescription] = useState('');\n//   const [uploading, setUploading] = useState(false);\n//   const productList = useSelector((state) => state.productList);\n//   const { loading, products, error } = productList;\n//   const productSave = useSelector((state) => state.productSave);\n//   const {\n//     loading: loadingSave,\n//     success: successSave,\n//     error: errorSave,\n//   } = productSave;\n//   const productDelete = useSelector((state) => state.productDelete);\n//   const {\n//     loading: loadingDelete,\n//     success: successDelete,\n//     error: errorDelete,\n//   } = productDelete;\n//   const dispatch = useDispatch();\n//   useEffect(() => {\n//     if (successSave) {\n//       setModalVisible(false);\n//     }\n//     dispatch(listProducts());\n//     return () => {\n//       //\n//     };\n//   }, [successSave, successDelete]);\n//   const openModal = (product) => {\n//     setModalVisible(true);\n//     setId(product._id);\n//     setName(product.name);\n//     setPrice(product.price);\n//     setDescription(product.description);\n//     setImage(product.image);\n//     setBrand(product.brand);\n//     setCategory(product.category);\n//     setCountInStock(product.countInStock);\n//   };\n//   const submitHandler = (e) => {\n//     e.preventDefault();\n//     dispatch(\n//       saveProduct({\n//         _id: id,\n//         name,\n//         price,\n//         image,\n//         brand,\n//         category,\n//         countInStock,\n//         description,\n//       })\n//     );\n//   };\n//   const deleteHandler = (product) => {\n//     dispatch(deleteProdcut(product._id));\n//   };\n//   const uploadFileHandler = (e) => {\n//     const file = e.target.files[0];\n//     const bodyFormData = new FormData();\n//     bodyFormData.append('image', file);\n//     setUploading(true);\n//     axios\n//       .post('/api/uploads/s3', bodyFormData, {\n//         headers: {\n//           'Content-Type': 'multipart/form-data',\n//         },\n//       })\n//       .then((response) => {\n//         setImage(response.data);\n//         setUploading(false);\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//         setUploading(false);\n//       });\n//   };\n//   return (\n//     <div className=\"content content-margined\">\n//       <div className=\"product-header\">\n//         <h3>Products</h3>\n//         <button className=\"button primary\" onClick={() => openModal({})}>\n//           Create Product\n//         </button>\n//       </div>\n//       {modalVisible && (\n//         <div className=\"form\">\n//           <form onSubmit={submitHandler}>\n//             <ul className=\"form-container\">\n//               <li>\n//                 <h2>Create Product</h2>\n//               </li>\n//               <li>\n//                 {loadingSave && <div>Loading...</div>}\n//                 {errorSave && <div>{errorSave}</div>}\n//               </li>\n//               <li>\n//                 <label htmlFor=\"name\">Name</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"name\"\n//                   value={name}\n//                   id=\"name\"\n//                   onChange={(e) => setName(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"price\">Price</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"price\"\n//                   value={price}\n//                   id=\"price\"\n//                   onChange={(e) => setPrice(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"image\">Image</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"image\"\n//                   value={image}\n//                   id=\"image\"\n//                   onChange={(e) => setImage(e.target.value)}\n//                 ></input>\n//                 <input type=\"file\" onChange={uploadFileHandler}></input>\n//                 {uploading && <div>Uploading...</div>}\n//               </li>\n//               <li>\n//                 <label htmlFor=\"brand\">Brand</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"brand\"\n//                   value={brand}\n//                   id=\"brand\"\n//                   onChange={(e) => setBrand(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"countInStock\">CountInStock</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"countInStock\"\n//                   value={countInStock}\n//                   id=\"countInStock\"\n//                   onChange={(e) => setCountInStock(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"name\">Category</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"category\"\n//                   value={category}\n//                   id=\"category\"\n//                   onChange={(e) => setCategory(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"description\">Description</label>\n//                 <textarea\n//                   name=\"description\"\n//                   value={description}\n//                   id=\"description\"\n//                   onChange={(e) => setDescription(e.target.value)}\n//                 ></textarea>\n//               </li>\n//               <li>\n//                 <button type=\"submit\" className=\"button primary\">\n//                   {id ? 'Update' : 'Create'}\n//                 </button>\n//               </li>\n//               <li>\n//                 <button\n//                   type=\"button\"\n//                   onClick={() => setModalVisible(false)}\n//                   className=\"button secondary\"\n//                 >\n//                   Back\n//                 </button>\n//               </li>\n//             </ul>\n//           </form>\n//         </div>\n//       )}\n//       <div className=\"product-list\">\n//         <table className=\"table\">\n//           <thead>\n//             <tr>\n//               <th>ID</th>\n//               <th>Name</th>\n//               <th>Price</th>\n//               <th>Category</th>\n//               <th>Brand</th>\n//               <th>Action</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {products.map((product) => (\n//               <tr key={product._id}>\n//                 <td>{product._id}</td>\n//                 <td>{product.name}</td>\n//                 <td>{product.price}</td>\n//                 <td>{product.category}</td>\n//                 <td>{product.brand}</td>\n//                 <td>\n//                   <button className=\"button\" onClick={() => openModal(product)}>\n//                     Edit\n//                   </button>{' '}\n//                   <button\n//                     className=\"button\"\n//                     onClick={() => deleteHandler(product)}\n//                   >\n//                     Delete\n//                   </button>\n//                 </td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       </div>\n//     </div>\n//   );\n// }\n// export default ProductsScreen;","map":{"version":3,"sources":["C:/Users/GEETANSHU CHHABRA/Downloads/node-react-ecommerce-master/frontend/src/screens/ProductsScreen.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import { useSelector, useDispatch } from 'react-redux';\n// import axios from 'axios';\n// import {\n//   saveProduct,\n//   listProducts,\n//   deleteProdcut,\n// } from '../actions/productActions';\n\n// function ProductsScreen(props) {\n//   const [modalVisible, setModalVisible] = useState(false);\n//   const [id, setId] = useState('');\n//   const [name, setName] = useState('');\n//   const [price, setPrice] = useState('');\n//   const [image, setImage] = useState('');\n//   const [brand, setBrand] = useState('');\n//   const [category, setCategory] = useState('');\n//   const [countInStock, setCountInStock] = useState('');\n//   const [description, setDescription] = useState('');\n//   const [uploading, setUploading] = useState(false);\n//   const productList = useSelector((state) => state.productList);\n//   const { loading, products, error } = productList;\n\n//   const productSave = useSelector((state) => state.productSave);\n//   const {\n//     loading: loadingSave,\n//     success: successSave,\n//     error: errorSave,\n//   } = productSave;\n\n//   const productDelete = useSelector((state) => state.productDelete);\n//   const {\n//     loading: loadingDelete,\n//     success: successDelete,\n//     error: errorDelete,\n//   } = productDelete;\n//   const dispatch = useDispatch();\n\n//   useEffect(() => {\n//     if (successSave) {\n//       setModalVisible(false);\n//     }\n//     dispatch(listProducts());\n//     return () => {\n//       //\n//     };\n//   }, [successSave, successDelete]);\n\n//   const openModal = (product) => {\n//     setModalVisible(true);\n//     setId(product._id);\n//     setName(product.name);\n//     setPrice(product.price);\n//     setDescription(product.description);\n//     setImage(product.image);\n//     setBrand(product.brand);\n//     setCategory(product.category);\n//     setCountInStock(product.countInStock);\n//   };\n//   const submitHandler = (e) => {\n//     e.preventDefault();\n//     dispatch(\n//       saveProduct({\n//         _id: id,\n//         name,\n//         price,\n//         image,\n//         brand,\n//         category,\n//         countInStock,\n//         description,\n//       })\n//     );\n//   };\n//   const deleteHandler = (product) => {\n//     dispatch(deleteProdcut(product._id));\n//   };\n//   const uploadFileHandler = (e) => {\n//     const file = e.target.files[0];\n//     const bodyFormData = new FormData();\n//     bodyFormData.append('image', file);\n//     setUploading(true);\n//     axios\n//       .post('/api/uploads/s3', bodyFormData, {\n//         headers: {\n//           'Content-Type': 'multipart/form-data',\n//         },\n//       })\n//       .then((response) => {\n//         setImage(response.data);\n//         setUploading(false);\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//         setUploading(false);\n//       });\n//   };\n//   return (\n//     <div className=\"content content-margined\">\n//       <div className=\"product-header\">\n//         <h3>Products</h3>\n//         <button className=\"button primary\" onClick={() => openModal({})}>\n//           Create Product\n//         </button>\n//       </div>\n//       {modalVisible && (\n//         <div className=\"form\">\n//           <form onSubmit={submitHandler}>\n//             <ul className=\"form-container\">\n//               <li>\n//                 <h2>Create Product</h2>\n//               </li>\n//               <li>\n//                 {loadingSave && <div>Loading...</div>}\n//                 {errorSave && <div>{errorSave}</div>}\n//               </li>\n\n//               <li>\n//                 <label htmlFor=\"name\">Name</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"name\"\n//                   value={name}\n//                   id=\"name\"\n//                   onChange={(e) => setName(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"price\">Price</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"price\"\n//                   value={price}\n//                   id=\"price\"\n//                   onChange={(e) => setPrice(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"image\">Image</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"image\"\n//                   value={image}\n//                   id=\"image\"\n//                   onChange={(e) => setImage(e.target.value)}\n//                 ></input>\n//                 <input type=\"file\" onChange={uploadFileHandler}></input>\n//                 {uploading && <div>Uploading...</div>}\n//               </li>\n//               <li>\n//                 <label htmlFor=\"brand\">Brand</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"brand\"\n//                   value={brand}\n//                   id=\"brand\"\n//                   onChange={(e) => setBrand(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"countInStock\">CountInStock</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"countInStock\"\n//                   value={countInStock}\n//                   id=\"countInStock\"\n//                   onChange={(e) => setCountInStock(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"name\">Category</label>\n//                 <input\n//                   type=\"text\"\n//                   name=\"category\"\n//                   value={category}\n//                   id=\"category\"\n//                   onChange={(e) => setCategory(e.target.value)}\n//                 ></input>\n//               </li>\n//               <li>\n//                 <label htmlFor=\"description\">Description</label>\n//                 <textarea\n//                   name=\"description\"\n//                   value={description}\n//                   id=\"description\"\n//                   onChange={(e) => setDescription(e.target.value)}\n//                 ></textarea>\n//               </li>\n//               <li>\n//                 <button type=\"submit\" className=\"button primary\">\n//                   {id ? 'Update' : 'Create'}\n//                 </button>\n//               </li>\n//               <li>\n//                 <button\n//                   type=\"button\"\n//                   onClick={() => setModalVisible(false)}\n//                   className=\"button secondary\"\n//                 >\n//                   Back\n//                 </button>\n//               </li>\n//             </ul>\n//           </form>\n//         </div>\n//       )}\n\n//       <div className=\"product-list\">\n//         <table className=\"table\">\n//           <thead>\n//             <tr>\n//               <th>ID</th>\n//               <th>Name</th>\n//               <th>Price</th>\n//               <th>Category</th>\n//               <th>Brand</th>\n//               <th>Action</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {products.map((product) => (\n//               <tr key={product._id}>\n//                 <td>{product._id}</td>\n//                 <td>{product.name}</td>\n//                 <td>{product.price}</td>\n//                 <td>{product.category}</td>\n//                 <td>{product.brand}</td>\n//                 <td>\n//                   <button className=\"button\" onClick={() => openModal(product)}>\n//                     Edit\n//                   </button>{' '}\n//                   <button\n//                     className=\"button\"\n//                     onClick={() => deleteHandler(product)}\n//                   >\n//                     Delete\n//                   </button>\n//                 </td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       </div>\n//     </div>\n//   );\n// }\n// export default ProductsScreen;\n"]},"metadata":{},"sourceType":"module"}